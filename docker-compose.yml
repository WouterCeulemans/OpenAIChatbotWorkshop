name: openai-chatbot

services:
  cosmosdb:
    restart: on-failure
    container_name: "azure-cosmosdb"
    image: 'mcr.microsoft.com/cosmosdb/linux/azure-cosmos-emulator:latest'
    mem_limit: 4GB
    tty: true
    volumes:
      - azure-cosmosdb:/tmp/cosmos/appdata
    ports:
      - 8081:8081
      - 10250-10255:10250-10255
    environment:
      - AZURE_COSMOS_EMULATOR_PARTITION_COUNT=3
      - AZURE_COSMOS_EMULATOR_ENABLE_DATA_PERSISTENCE=true
      - AZURE_COSMOS_EMULATOR_IP_ADDRESS_OVERRIDE=127.0.0.1

volumes:
  azure-cosmosdb: